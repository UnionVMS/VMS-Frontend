<mat-spinner class="load-spinner" *ngIf="!licenceLoaded"></mat-spinner>
<ng-container *ngIf="licenceLoaded">
  <map-panel-block
    *ngIf="formattedLicence"
    [blockTitle]="formattedLicence.licenceNumber"
    [active]="displayInformation"
    [setActiveFunction]="toggleDisplayInformation"
    [useArrowsAsToggle]="true"
    [showFooter]="true"
    [unstyledFooter]="true"
  >
    <span header i18n>Licence</span>
    <div body class="licence-details">
      <div class="title"><span class="text" i18n>Licence status</span></div>
      <div class="value {{formattedLicence.status.toLowerCase()}}" i18n>{{formattedLicence.status}}</div>
      <div class="title"><span class="text" i18n>Licence no.</span></div>
      <div class="value" i18n>{{formattedLicence.licenceNumber}}</div>
      <div class="title"><span class="text" i18n>Holder</span></div>
      <div class="value">{{formattedLicence.name}}</div>
      <div class="title"><span class="text" i18n>Civic number</span></div>
      <div class="value">{{formattedLicence.formattedCivicNumber}}</div>
      <div class="title"><span class="text" i18n>From date</span></div>
      <div class="value">{{formattedLicence.formattedFromDate}}</div>
      <div class="title"><span class="text" i18n>To date</span></div>
      <div class="value {{formattedLicence.status.toLowerCase() === 'invalid' ? 'invalid' : ''}}">{{formattedLicence.formattedToDate}}</div>
      <div class="title"><span class="text" i18n>Decision date</span></div>
      <div class="value">{{formattedLicence.formattedDecisionDate}}</div>
      <div class="constraints-wrapper">
        <div i18n>Limitations</div>
        <div class="constraints{{formattedLicence.constraints ? '' : ' hidden'}}">{{formattedLicence.constraints}}</div>
      </div>
    </div>
  </map-panel-block>
  <div *ngIf="!formattedLicence" class="no-licence" i18n>
    Can not find any licence.
  </div>
</ng-container>
